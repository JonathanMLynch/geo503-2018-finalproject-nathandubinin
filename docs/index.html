<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Nathan Dubinin" />


<title>The Story Pollen Tells Us</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adammwilson/RDataScience">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">The Story Pollen Tells Us</h1>
<h3 class="subtitle"><em>A Brief Examination of southern Swedish Palynological Data</em></h3>
<h4 class="author"><em>Nathan Dubinin</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Pollen diagrams offer a visualization of past landscapes. They can tell a story about the past which entails human activity and climatic events. In the past decade, R has become a powerful tool with statistical analyses, and data visualization in scientific research. Due to its prevalence, R has become the norm within scientiic research transcending disciplines. This is partly because it is tremendously powerful as a visualization tool and allows for reproducible results.</p>
<p>The purpose of this project is to create a series of pollen diagrams which will visualize ancient pollen data in southern Sweden. While examining the pollen data, we can start to ask questions. Two questions will be asked for this project. What narratives can be told examining pollen diagrams? Does the story glean any information pertaining to climatic events or cultural transformation of landscape?</p>
</div>
<div id="methods" class="section level1">
<h1>Methods</h1>
<p>A series of packages are employed to make pollen diagrams. These consist of the ‘analogue’ and ‘neotoma’ packages. They allow for the simple creation of diagrams or profiles to view. You can use ‘ggplot2’ to create pollen diagrams, but is beyond the scope of this project. It is however useful to know that there are many options in creating pollen diagrams.</p>
<p>A series of arguements are used, with vectors representing the y and x axis, where the y-axis will represent time or sediment depth (depnding on specific data) and the x-axis representing the relative abundance as a percentage of a given species. ‘There are several plot types that are built into ’analogue,’ so ggplot can still be used, but is not necessry. Pollen data may be directly downloaded from online. The Neotoma databases’s API and package ‘Neotoma’ allows for easy access to pollen data originally hosted by the European Pollen Database. The database explorer also allows for advanced searches that can narrow down pollen data within time and space. This particular feature makes it easy to find datasets associated with a particular country.</p>
<p>Below are the packages that need to be installed:</p>
<pre class="r"><code># packages:

library(permute)
library(lattice)
library(vegan)</code></pre>
<pre><code>## This is vegan 2.5-3</code></pre>
<pre class="r"><code>library(neotoma)
library(analogue)</code></pre>
<pre><code>## analogue version 0.17-1</code></pre>
<p>Five sites have been chosen in southern Sweden: Lake Sambösjön, Lake Flarken, Dags Mosse, Mabo Moss, Kansjon</p>
<p>The following code illustrates how you can get pollen data using the API of the Neotoma Paleoecology Database. Lake Sambösjön will be used and can be a template to replicate other diagrams with other pollen data.</p>
<p>The lines of code below represent data being fetched from the Neotoma API.<br />
<em>The “get_site” returns information from the Neotoma Database.<br />
</em>The “get_dataset” function allows for acsess to the API and to return datasets associated with a particular site. *The “get_download” allows for the return of the download which is associated either with a dataset ID, site object or dataset object.</p>
<pre class="r"><code>sam &lt;- get_site(sitename = &#39;Lake Sambösjön&#39;)</code></pre>
<pre><code>## The API call was successful, you have returned  1 records.</code></pre>
<pre class="r"><code>sam_pollen=get_dataset(sam)
sam_data=get_download(sam_pollen)</code></pre>
<pre><code>## API call was successful. Returned record for Lake Sambösjön
## API call was successful. Returned record for Lake Sambösjön</code></pre>
<pre><code>## The dataset ID 9172 is associated with a geochronology object, not count data.</code></pre>
<pre><code>## Warning in get_download.default(datasetid, verbose = verbose): Some datasetids returned empty downloads, be aware that length(datasetid) is longer than the download_list.</code></pre>
<p>After the data has been downloaded through the API relative percentages can be calculated. This is because most pollen data does not have percentages of pollen, rather counts. The EPD’s data policy requires that their data have pollen counts and exclude any percentages.</p>
<p>Pollen diagrams show relative abundance as a percent along the x-axis of the diagram. The next few lines of code illusrate how percentages are calculated from the pollen data.</p>
<p><em>The “tran” function in ‘analogue’ has many options to transform or standardize data. In the following case, “tran” will be used to convert the counts of every taxa or group of vegetation using the “method = ‘percent’” argument. </em>The second line of code is assigning the calibrated radiocarbon age from the pollen data. *The final line in this code chunk is using the “chooseTaxa” function with two arguments: 1. Using the sam.core.pct as the object. 2. Using “max.abun” to set the lower limit of percentages. In this case anything less than ten percent will be excluded.</p>
<pre class="r"><code>sam.core.pct &lt;- data.frame(tran(sam_data[[1]]$counts, method = &#39;percent&#39;))
sam.age &lt;- sam_data[[1]]$sample.meta$age
sam.core.pct &lt;- chooseTaxa(sam.core.pct, max.abun = 10)</code></pre>
<p>Now that the data for Lake Sambösjön has been adequately wrangled, the “Stratiplot” function can be used to create pollen diagrams. It is a simple function with a series of arguments: 1. object which is sam.core.pct data frame. 2. sort which deals with how variables on the x-axis are displayed, ‘wa’ represents weighted average. 3. type deals with what kind of shape or line does the diagram havee. For below, a vector was created with “poly”, representing a filled shape and “g” which represents a grid for reference.<br />
4. ylab is the y-axis label 5. xlab is the x-axis label</p>
<pre class="r"><code>Stratiplot(sam.age ~., sam.core.pct, sort = &#39;wa&#39;, type = c(&quot;poly&quot;, &quot;g&quot;), ylab = &#39;Years Before Present&#39;, xlab = &#39;Relative Abundance (%)&#39;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>The following are a series of pollen profiles that represent five sites within southern Sweden. They consist of three lakes and two bogs. The diagrams will be useful in discussing possible cänlimactic trends through time given different species of vegetation.</p>
<div id="lake-sambosjon" class="section level2">
<h2>Lake Sambösjön</h2>
<div id="lake.-physiography-lake.-surrounding-vegetation-10-15m-broad-and-continuous-alnus-belt.-neotoma" class="section level3">
<h3>“Lake. Physiography: lake. Surrounding vegetation: 10-15m broad and continuous Alnus belt.” (Neotoma)</h3>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
</div>
<div id="lake-flarken" class="section level2">
<h2>Lake Flarken</h2>
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="dags-mosse" class="section level2">
<h2>Dags Mosse</h2>
<div id="raised-pinus-sedum-sphagnum-bog.-physiography-tills-and-glaciofluvial-depressions.-surrounding-vegetation-pinus-betula-picea-belt.-neotoma" class="section level3">
<h3>“Raised Pinus-Sedum-Sphagnum bog. Physiography: tills and glaciofluvial depressions. Surrounding vegetation: Pinus-Betula (Picea) belt.” (Neotoma)</h3>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
</div>
<div id="mabo-moss" class="section level2">
<h2>Mabo Moss</h2>
<div id="slightly-raised-pinus-ledum-sphagnum-bog.-physiography-glaciofluvial-deposits-and-tills.-surrounding-vegetation-pinus-betula-picea-quercus.-neotoma" class="section level3">
<h3>“Slightly raised Pinus-Ledum-Sphagnum bog. Physiography: Glaciofluvial deposits and tills. Surrounding vegetation: Pinus-Betula-Picea (Quercus).” (Neotoma)</h3>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
</div>
<div id="kansjon" class="section level2">
<h2>Kansjon</h2>
<div id="lake.-physiography-rolling-till-surface.-surrounding-vegetation-pinus-betula.-neotoma" class="section level3">
<h3>“Lake. Physiography: Rolling till surface. Surrounding vegetation: Pinus, Betula.” (Neotoma)</h3>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>Still working on the overall interpretation of the diagrams. However, pollen diagrams allow for a glimpse of how landscapes have changed through time. The R packagees used for this project illustrate the efficacy of creating simple and quick diagrams. There are however some limitations with the specific arguments. Furthermore, there are alos issues concerning pollen data that need to be adressed. The relative abundance is calculating the percentage of the pollen counts for each taxa. Relative pollen percentages may not mean that there is more of one taxa versus another. Some plants give off more or less pollen when compared to one another. Another issue that is discussed in Walanus &amp; Nalepka (2013), is that a zero count does not necessarily mean that there was no pollen present for a specific taxa, rather it fell below a particular threshold when sampling at different levels of the core.</p>
</div>
<div id="references-and-data-sources" class="section level1">
<h1>References and Data Sources</h1>
<p>Data accessed from the European Pollen Database (EPD) via the Neotoma Paleoecology Database Explorer’s API.</p>
<p>Websites:</p>
<p><a href="http://www.europeanpollendatabase.net/fpd-epd/bibli.do" class="uri">http://www.europeanpollendatabase.net/fpd-epd/bibli.do</a></p>
<p><a href="http://apps.neotomadb.org/explorer/" class="uri">http://apps.neotomadb.org/explorer/</a></p>
<p><a href="https://CRAN.R-project.org/package=neotoma" class="uri">https://CRAN.R-project.org/package=neotoma</a></p>
<p><a href="https://CRAN.R-project.org/package=vegan" class="uri">https://CRAN.R-project.org/package=vegan</a></p>
<p><a href="https://CRAN.R-project.org/package=lattice" class="uri">https://CRAN.R-project.org/package=lattice</a></p>
<p><a href="https://CRAN.R-project.org/package=permute" class="uri">https://CRAN.R-project.org/package=permute</a></p>
<p><a href="https://CRAN.R-project.org/package=analogue" class="uri">https://CRAN.R-project.org/package=analogue</a></p>
<p><a href="http://paleoecologie.umontreal.ca/" class="uri">http://paleoecologie.umontreal.ca/</a></p>
<p><a href="https://www.fromthebottomoftheheap.net/2011/06/08/stratigraphic-diagrams-using-analogue/" class="uri">https://www.fromthebottomoftheheap.net/2011/06/08/stratigraphic-diagrams-using-analogue/</a></p>
<p>Articles:</p>
<p>Digerfeldt, G. 1982. The Holocene development of Lake Sambosjon. 1. The regional vegetation history. Lundqua Report, 23:1-24.</p>
<p>Digerfeldt, G. 1977. The Flandrian development of Lake Flarken. Regional vegetation history and palaeolimnology. University of Lund Department of Quaternary Geology. Report 13:1-101.</p>
<p>Göransson, H. 1991. Vegetation and man around Lake Bjärsjöholmssjön during prehistoric time. Lundqua Report 31. Data :</p>
<p>Mitchell, F. J. (2005). How open were European primeval forests? Hypothesis testing using palaeoecological data. Journal of Ecology, 93(1), 168-177.</p>
<p>Seppä, H., Hammarlund, D., Antonsson, K., Teknisk-naturvetenskapliga vetenskapsområdet, Uppsala universitet, Geovetenskapliga sektionen, &amp; Institutionen för geovetenskaper. (2005). Low-frequency and high-frequency changes in temperature and effective humidity during the holocene in south-central sweden: Implications for atmospheric and oceanic forcings of climate. Climate Dynamics, 25(2), 285-297. <a href="doi:10.1007/s00382-005-0024-5" class="uri">doi:10.1007/s00382-005-0024-5</a></p>
<p>Walanus, A., &amp; Nalepka, D. (2013). Information content of zero pollen counts in holocene profiles. The Holocene, 23(5), 732-738. <a href="doi:10.1177/0959683612465444" class="uri">doi:10.1177/0959683612465444</a></p>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="http://www.adamwilson.us/RDataScience"><i> Spatial Data Science (GEO503) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
